



Internet Engineering Task Force (IETF)                          B. Cheng
Request for Comments: 9894                        MIT Lincoln Laboratory
Category: Standards Track                                     D. Wiggins
ISSN: 2070-1721                                                         
                                                               L. Berger
                                                 LabN Consulting, L.L.C.
                                                    D. Eastlake 3rd, Ed.
                                                             Independent
                                                            January 2026


   Dynamic Link Exchange Protocol (DLEP) Diffserv Aware Credit Window
                               Extension

Abstract

   This document defines an extension to the Dynamic Link Exchange
   Protocol (DLEP) that enables a Diffserv aware credit window scheme
   for destination-specific and shared flow control.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in Section 2 of RFC 7841.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   https://www.rfc-editor.org/info/rfc9894.

Copyright Notice

   Copyright (c) 2026 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Revised BSD License text as described in Section 4.e of the
   Trust Legal Provisions and are provided without warranty as described
   in the Revised BSD License.

Table of Contents

   1.  Introduction
     1.1.  Key Words
   2.  Extension Usage and Identification
   3.  Management Considerations
   4.  Security Considerations
   5.  IANA Considerations
   6.  References
     6.1.  Normative References
     6.2.  Informative References
   Acknowledgments
   Authors' Addresses

1.  Introduction

   The Dynamic Link Exchange Protocol (DLEP) is defined in [RFC8175].
   The protocol provides the exchange of link-related control
   information between DLEP peers.  DLEP peers consist of a modem and a
   router.  DLEP defines a base set of mechanisms as well as support for
   possible extensions.  This document defines one such extension.

   The DLEP specification does not include any flow control capability.
   Various flow control techniques are theoretically possible with DLEP.
   This document defines a DLEP extension that provides a Diffserv-based
   flow control mechanism for traffic sent from a router to a modem.
   Flow control is provided using one or more logical "credit windows",
   each of which will typically be supported by an associated virtual or
   physical queue.  A router will use traffic flow classification
   information provided by the modem to identify which traffic is
   associated with each credit window.  Credit windows may be shared or
   dedicated on a per-flow basis.  See [RFC9895] for an Ethernet-based
   version of credit window flow control.  As specified in Section 2.3.1
   of [RFC9892], when both Diffserv and Ethernet traffic classification
   are specified for a flow, the Ethernet information takes precedence.

   This document uses the traffic classification and credit window flow
   control mechanisms defined in [RFC9892] and [RFC9893] to provide
   credit-window-based flow control based on DLEP destinations and
   Differentiated Services Code Points (DSCPs) [RFC2475].  The defined
   mechanism allows for credit windows to be shared across traffic sent
   to multiple DLEP destinations and DSCPs, or used exclusively for
   traffic sent to a particular destination and/or DSCP.  The extension
   also supports the "wildcard" matching of any DSCP.

   The extension defined in this document is referred to as the
   "Diffserv Aware Credit Window" or, more simply, the "DA Credit"
   extension.  The reader should be familiar with both the traffic
   classification and credit window flow control mechanisms defined in
   [RFC9892] and [RFC9893].

   This document defines a new DLEP Extension Type value that is used to
   indicate support for the extension.  See Section 2.

1.1.  Key Words

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

2.  Extension Usage and Identification

   The extension defined in this document is built on the mechanisms and
   processing defined in [RFC9892] and [RFC9893].  To indicate that the
   Diffserv Aware Credit Window Extension is to be used, an
   implementation MUST include the Diffserv Aware Credit Window
   Extension Type value in the Extensions Supported Data Item (see
   Section 13.6 of [RFC8175]).  The Extensions Supported Data Item is
   sent and processed according to [RFC8175].  Any implementation that
   indicates the use of the Diffserv Aware Credit Window Extension MUST
   support all message types, Data Items, the Diffserv Traffic
   Classification Sub-Data Item, and all related processing defined in
   [RFC9892] and [RFC9893].

   The Diffserv Aware Credit Window Extension Type value is 6.  See
   Section 5.

3.  Management Considerations

   This section provides several network management guidelines for
   implementations supporting the Diffserv Aware Credit Window
   Extension.

   If this extension is supported, that support MUST be declared using
   the Extensions Supported Data Item (see Section 13.6 of [RFC8175]).
   Diffserv Aware Credit Window Extension Data Items MUST NOT be emitted
   by a DLEP participant unless such support was specified in the
   initialization message received from its peer.  The use of the
   extension defined in this document SHOULD be configurable on both
   modems and routers.  That configuration can be implemented using a
   proprietary Command-Line Interface or by implementing a YANG module.
   The definition of the YANG module is out of scope for this document.

   Modems SHOULD support the configuration of mapping a DSCP to a credit
   window (queue).

   Modems MAY support the configuration of the number of credit windows
   (queues) to advertise to a router.

   Routers may have limits on the number of queues that they can support
   and limits on supported credit window combinations.  Per-destination
   queues might not be supported at all.  When credit window information
   provided by a modem exceeds the capabilities of a router, the router
   SHOULD use a subset of the provided credit windows.  Alternatively, a
   router MAY reset the session and indicate that the extension is not
   supported.  In either case, any mismatch in capabilities SHOULD be
   reported to the user via normal network management mechanisms, such
   as user interface messages or error logging.

   In all cases, if credit windows are in use, traffic for which credits
   are not available MUST NOT be sent to the modem by the router.

4.  Security Considerations

   This document defines a DLEP extension that uses DLEP mechanisms and
   the credit window flow control mechanisms defined in [RFC9892] and
   [RFC9893].  See also the Security Considerations sections of those
   documents.

   The defined extension is exposed to vulnerabilities similar to
   existing DLEP messages and discussed in the Security Considerations
   section of [RFC8175], such as an injected message resizing a credit
   window to a value that results in a denial of service.  The security
   mechanisms documented in [RFC8175] can be applied equally to the
   mechanism defined in this document.

   Wildcards for matching Priority Code Point (PCP) and VLAN Identifier
   (VID) fields (see [RFC9895]) are provided.  Note that wildcards may
   be convenient for matching a number of packet flows but could
   inadvertently match unexpected flows or new flows that appear after
   the wildcard matching has been set up.  It is therefore RECOMMENDED
   that wildcards not be used unless needed.

5.  IANA Considerations

   IANA has assigned the following code point in the "Extension Type
   Values" registry in the "Dynamic Link Exchange Protocol (DLEP)
   Parameters" registry group:

                  +======+==============================+
                  | Code | Description                  |
                  +======+==============================+
                  | 6    | Diffserv Aware Credit Window |
                  +------+------------------------------+

                       Table 1: Extension Type Value


6.  References

6.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8175]  Ratliff, S., Jury, S., Satterwhite, D., Taylor, R., and B.
              Berry, "Dynamic Link Exchange Protocol (DLEP)", RFC 8175,
              DOI 10.17487/RFC8175, June 2017,
              <https://www.rfc-editor.org/info/rfc8175>.

   [RFC9892]  Cheng, B., Wiggins, D., Berger, L., and D. Fedyk, Ed.,
              "Dynamic Link Exchange Protocol (DLEP) Traffic
              Classification Data Item", RFC 9892, DOI 10.17487/RFC9892,
              January 2026, <https://www.rfc-editor.org/info/rfc9892>.

   [RFC9893]  Cheng, B., Wiggins, D., Ratliff, S., Berger, L., and E.
              Kinzie, Ed., "Dynamic Link Exchange Protocol (DLEP)
              Credit-Based Flow Control Messages and Data Items",
              RFC 9893, DOI 10.17487/RFC9893, January 2026,
              <https://www.rfc-editor.org/info/rfc9893>.

6.2.  Informative References

   [RFC2475]  Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z.,
              and W. Weiss, "An Architecture for Differentiated
              Services", RFC 2475, DOI 10.17487/RFC2475, December 1998,
              <https://www.rfc-editor.org/info/rfc2475>.

   [RFC9895]  Wiggins, D., Berger, L., and D. Eastlake 3rd, Ed.,
              "Dynamic Link Exchange Protocol (DLEP) IEEE 802.1Q Aware
              Credit Window Extension", RFC 9895, DOI 10.17487/RFC9895,
              January 2026, <https://www.rfc-editor.org/info/rfc9895>.

Acknowledgments

   Many useful comments were received from contributors to the MANET
   Working Group, notably Ronald in 't Velt.

   We had the honor of working too briefly with David Wiggins on this
   and related DLEP work.  His contribution to the IETF and publication
   of the first and definitive open-source DLEP implementation have been
   critical to the acceptance of DLEP.  We mourn his passing on November
   26, 2023.  We wish to recognize his guidance, leadership, and
   professional excellence.  We were fortunate to benefit from his
   leadership and friendship.  He shall be missed.

Authors' Addresses

   Bow-Nan Cheng
   MIT Lincoln Laboratory
   Massachusetts Institute of Technology
   244 Wood Street
   Lexington, MA 02421-6426
   United States of America
   Email: bcheng@ll.mit.edu


   David Wiggins


   Lou Berger
   LabN Consulting, L.L.C.
   Email: lberger@labn.net


   Donald E. Eastlake 3rd (editor)
   Independent
   2386 Panoramic Circle
   Apopka, FL 32703
   United States of America
   Phone: +1-508-333-2270
   Email: d3e3e3@gmail.com
